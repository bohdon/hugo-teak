{{ $noSummary := default false .NoSummary }}
{{ $noLink := default false .NoLink }}
{{ $noMetadata := default false .NoMetadata }}
{{ $isSmall := default false .IsSmall }}

{{ $cardClass := "" }}
{{ $titleIcon := "" }}

{{/* notes */}}
{{ if eq .context.Type "notes" }}
{{ $cardClass = "notes-card" }}
{{ $titleIcon = "fa-solid fa-memo"}}
{{ end }}

{{/* work */}}
{{ if eq .context.Type "work" }}
{{ $cardClass = "work-card" }}
{{ $titleIcon = "fa-solid fa-photo-film"}}
{{ end }}


<div class="card is-horizontal {{ $cardClass }}">

    {{ if .context.Params.Image }}
    <div class="card-image">
        <figure class="image is-1by1">
            <a href="{{ .context.RelPermalink }}" {{if $noLink }}style="pointer-events: none" {{ end }}>
                <img src="{{ .context.Params.Image }}">
            </a>
        </figure>
    </div>
    {{ end }}

    <div class="card-content">
        {{ if $isSmall }}
        <h4 class="title mb-3 is-size-5">
        {{ else }}
        <h4 class="title mb-3 is-size-4-tablet is-size-5-touch is-size-4">
        {{ end }}
            <a href="{{ .context.RelPermalink }}" {{if $noLink }}style="pointer-events: none" {{ end }}>
                <span class="icon">
                    <i class="{{ $titleIcon }}"></i>
                </span>
                {{ .context.LinkTitle }}
            </a>
        </h4>

        {{ if not $noMetadata }}
        {{ partial "metadata.html" .context }}
        {{ end }}

        {{ if not $noSummary }}
        {{ if $isSmall }}
        <div class="content is-size-7">
        {{ else }}
        <div class="content is-size-6-tablet is-size-7-touch">
        {{ end }}
            {{ .context.Summary }}
        </div>
        {{ end }}
    </div>

</div>