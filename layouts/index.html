{{ define "main" }}

<div class="hero is-black is-fullheight has-background">
    {{ if .Params.HeroBackground }}
    <img class="background-image is-transparent" src="{{ .Params.HeroBackground }}">
    {{ end }}
    {{ if .Params.HeroVideo }}
    <video class="background-video" data-autoplay autoplay webkit-playsinline playsinline loop muted data-object-fit="cover">
        <source src="{{ .Params.HeroVideo }}" type="video/mp4">
    </video>
    {{ end }}
    <div class="hero-body">
        <div class="container is-align-self-flex-end">
            {{/*  allow _index.md to display custom text  */}}
            {{ .Content }}
            <div class="has-text-centered">
                <i class="fa-thin fa-chevron-down is-size-1"></i>
            </div>
        </div>
    </div>
</div>

<div class="p-6"></div>

{{/*  recent creative work  */}}
{{ if (where .Site.RegularPages "Section" "creative") }}

    {{ range first 2 (where .Site.RegularPages.ByDate.Reverse "Section" "creative") }}
        {{ partial "pagecard.html"
            (dict "context" . "IsLargeCard" true "IsFullWidth" true "NoTags" true "NoExternalLink" true
            "NoSummary" true "NoDate" true "NoTitle" true) }}
        <div class="p-4"></div>
    {{ end }}

    <a class="button subtitle m-4" href="/creative">
        <span class="icon">
            <i class="fa-sharp fa-solid fa-photo-film"></i>
        </span>
        <span>
            More Work...
        </span>
    </a>
{{ end }}

<div class="p-5"></div>

{{/*  recent docs  */}}
{{ if (where .Site.RegularPages "Section" "docs") }}
<div class="columns is-multiline">

    {{ range first 4 (where .Site.RegularPages.ByDate.Reverse "Section" "docs") }}
    <div class="column is-half">
        {{ partial "pagecard.html" (dict "context" .) }}
    </div>
    {{ end }}

    <div class="column ">
        <a class="button subtitle m-4" href="/docs">
            <span class="icon">
                <i class="fa-sharp fa-solid  fa-memo"></i>
            </span>
            <span>
                More Docs...
            </span>
        </a>
    </div>

</div>
{{ end }}

{{/*  recently added links  */}}
{{ if (where .Site.RegularPages "Section" "links") }}
<div class="columns is-multiline">

    {{ range first 4 (where .Site.RegularPages.ByDate.Reverse "Section" "links") }}
    <div class="column is-half">
        {{ partial "pagecard.html" (dict "context" .) }}
    </div>
    {{ end }}

    <div class="column">
        <a class="button subtitle m-4" href="/links">
            <span class="icon">
                <i class="fa-sharp fa-solid fa-bookmark"></i>
            </span>
            <span>
                More Links...
            </span>
        </a>
    </div>

</div>
{{ end }}

{{ end }}